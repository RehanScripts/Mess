<!DOCTYPE html>
<html lang="en">
<head>
    
   
    <title>Login Page</title>

    <link rel="stylesheet" href="style.css">
</head>

<body>
    
     <form id="loginForm"><center> <h2>SMART MESS MANAGEMENT SYSTEM</h2></center>
<br>
        <p> Username : <input type="text" id="username" name="username" placeholder="Enter your username" required></p>
        <br>
        <p> Password : <input type="password" id="password" name="password" placeholder="Enter your password" required></p>
        <br>
     <center> <div class="options">
        <label><input type="checkbox"> Remember me</label>
        <a href="#">Forgot password?</a>
</div></center>
        <br>
        <center><button type="submit">Login</button></center> 

<br>
<center> Not Registered?  <a href="signup.html">Sign up</a></center> 
<br>

     </form>

<script>
// Intercept the form submit and send credentials to the backend
document.getElementById('loginForm').addEventListener('submit', async function (e) {
    e.preventDefault();
    const username = document.getElementById('username').value || '';
    const password = document.getElementById('password').value || '';

    try {
        const res = await fetch('/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password })
        });
        const data = await res.json();
        if (data && data.success) {
            // on success redirect to dashboard
            window.location.href = 'dashboard.html';
        } else {
            alert('Login failed (this app currently accepts any credentials). Redirecting to dashboard.');
            window.location.href = 'dashboard.html';
        }
    } catch (err) {
        console.error(err);
        // still redirect per requirement "any login combination can work"
        window.location.href = 'dashboard.html';
    }
});
</script>
</body>
</html>